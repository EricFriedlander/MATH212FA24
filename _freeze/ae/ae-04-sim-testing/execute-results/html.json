{
  "hash": "cd76e0828ac42a3945be86391a8f4dac",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"AE 04: Randomization test for the slope\"\nsubtitle: \"Bikeshare\"\ndate: \"Sep 13, 2022\"\neditor: visual\n---\n\n\n::: callout-important\n-   Open [RStudio](https://rstudio.collegeofidaho.edu/) and create a subfolder in your AE folder called \"AE-04\"\n\n- Go to the [Canvas](https://cofi.instructure.com/courses/15692/assignments/181485) and locate your `AE 04` assignment to get started.\n\n-   Upload the `ae-04.qmd` and `dcbikeshare.csv` files into the folder you just created. The `.qmd` and PDF responses are due in Canvas no later than Thursday, September 12 at 11:59pm.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(infer)\nlibrary(ggformula)\nlibrary(broom)\nlibrary(openintro)\nlibrary(knitr)\n```\n:::\n\n\n## Data\n\nOur dataset contains daily rentals from the Capital Bikeshare in Washington, DC in 2011 and 2012 filtered to only contain the winter months. It was obtained from the `dcbikeshare` data set in the `dsbox` R package.\n\nWe will focus on the following variables in the analysis:\n\n-   `count`: total bike rentals\n-   `temp_orig`: Temperature in degrees Celsius\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwinter <- read_csv(\"../ae/data/dcbikeshare.csv\") |>\n  mutate(season = case_when(\n    season == 1 ~ \"winter\",\n    season == 2 ~ \"spring\",\n    season == 3 ~ \"summer\",\n    season == 4 ~ \"fall\"\n  ),\n  season = factor(season)) |>\n  filter(season == \"winter\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 731 Columns: 17\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl  (16): instant, season, yr, mnth, holiday, weekday, workingday, weathers...\ndate  (1): dteday\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nglimpse(winter)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 181\nColumns: 17\n$ instant    <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …\n$ dteday     <date> 2011-01-01, 2011-01-02, 2011-01-03, 2011-01-04, 2011-01-05…\n$ season     <fct> winter, winter, winter, winter, winter, winter, winter, win…\n$ yr         <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ mnth       <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ holiday    <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,…\n$ weekday    <dbl> 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4, 5, 6, 0, 1, 2, 3, 4,…\n$ workingday <dbl> 0, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1,…\n$ weathersit <dbl> 2, 2, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 1, 1, 2, 1, 2, 2, 2, 2,…\n$ temp       <dbl> 0.3441670, 0.3634780, 0.1963640, 0.2000000, 0.2269570, 0.20…\n$ atemp      <dbl> 0.3636250, 0.3537390, 0.1894050, 0.2121220, 0.2292700, 0.23…\n$ hum        <dbl> 0.805833, 0.696087, 0.437273, 0.590435, 0.436957, 0.518261,…\n$ windspeed  <dbl> 0.1604460, 0.2485390, 0.2483090, 0.1602960, 0.1869000, 0.08…\n$ casual     <dbl> 331, 131, 120, 108, 82, 88, 148, 68, 54, 41, 43, 25, 38, 54…\n$ registered <dbl> 654, 670, 1229, 1454, 1518, 1518, 1362, 891, 768, 1280, 122…\n$ count      <dbl> 985, 801, 1349, 1562, 1600, 1606, 1510, 959, 822, 1321, 126…\n$ temp_orig  <dbl> 14.110847, 14.902598, 8.050924, 8.200000, 9.305237, 8.37826…\n```\n\n\n:::\n:::\n\n\n## Exploratory data analysis\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_point(count ~ temp_orig, data = winter, alpha = 0.7) |> \n  gf_labs(\n    x = \"Temperature (C)\",\n    y = \"Number of Bike Rentals\",\n  )\n```\n\n::: {.cell-output-display}\n![](ae-04-sim-testing_files/figure-html/scatterplot-1.png){width=672}\n:::\n:::\n\n\n## Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_fit <- lm(count ~ temp_orig, data = winter)\n\ntidy(model_fit) |>\n  kable(digits = 2)\n```\n\n::: {.cell-output-display}\n\n\n|term        | estimate| std.error| statistic| p.value|\n|:-----------|--------:|---------:|---------:|-------:|\n|(Intercept) |  -111.04|    238.31|     -0.47|    0.64|\n|temp_orig   |   222.42|     18.46|     12.05|    0.00|\n\n\n:::\n:::\n\n\n## Hypothesis test\n\n::: callout-tip\nFor code chunks with fill-in-the-blank code, change code chunk option to `#| eval: true` once you've filled in the code.\n:::\n\n### State the null and alternative hypotheses\n\n\\[Add hypotheses in mathematical notation\\]\n\n### Generate null distribution using permutation\n\nFill in the code, then set `eval: true` .\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn = 100\nset.seed(212)\n\nnull_dist <- _____ |>\n  specify(______) |>\n  hypothesize(null = \"independence\") |>\n  generate(reps = _____, type = \"permute\") |>\n  fit()\n```\n:::\n\n\n### Visualize distribution\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Code for histogram of null distribution\n```\n:::\n\n\n### Calculate the p-value.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get observed fit \nobserved_fit <- winter |>\n  specify(count ~ temp_orig) |>\n  fit()\n\n# calculate p-value\nget_p_value(\n  ____,\n  obs_stat = ____,\n  direction = \"two-sided\"\n)\n```\n:::\n\n\n-   What does the warning message mean?\n\n### State conclusion\n\n\\[Write your conclusion in the context of the data.\\]\n\n::: callout-important\nTo submit the AE:\n\n-   Render the document to produce the PDF with all of your work from today's class.\n-   Upload your PDf and .qmd files to Canvas.\n:::\n",
    "supporting": [
      "ae-04-sim-testing_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}